<!DOCTYPE html>

<html>

<head>
  <link rel="stylesheet" href="styles.css">
</head>

  <body>

    <h2>URL Query Param Parser</h2>

    <form action="">

      <input type="text" name="myinput" id="txt">

      <br>
      <input type="button" id='button' value="submit" onclick="parseURL()">
      </br>

    </form>

    <p>
      If you click 'submit' we'll provide marketing secrets
    </p>


    <table>

      
      <tbody id="tableBody">
        
        <tr>
          <th>
          LABEL
          </th>
          <th>
          VALUE
          </th>
        </tr>
      </tbody> 

    </table>

 

 <script type="text/javascript">
   function parseURL() {
     var regex = /[(\?|\&)]([^=]+)\=([^&#]+)/g,
          url = document.getElementById('txt').value,
          params = {},
          match;  
      console.log('url', url)
      while(match = regex.exec(url)) {
          params[match[1]] = match[2];
      }
  

  console.log('params', params);

  var table = document.getElementById("tableBody");
  table.innerHTML = "";

  Object.entries(params).forEach(([key, value]) => {

    table.innerHTML += "<tr><td>" + key + "</td><td>" + value + "</td></tr>";
  })

document.querySelector ('#myIframe').src = url

}


 </script>  
  
    <iframe id='myIframe' src="https://squarespace.com" width="1000" height="1000">
      We hit a snag
    </iframe> 

  </body>

</html>